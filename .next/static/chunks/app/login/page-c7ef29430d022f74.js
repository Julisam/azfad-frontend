(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1551:(e,t,r)=>{Promise.resolve().then(r.bind(r,9690))},5695:(e,t,r)=>{"use strict";var o=r(8999);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},5731:(e,t,r)=>{"use strict";r.d(t,{NJ:()=>n,iD:()=>a,kz:()=>s,ri:()=>i,wR:()=>c});let o=r(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api";async function n(){try{let e=await fetch("".concat(o,"/courses/"),{method:"GET",headers:{"Content-Type":"application/json",...function(){let e=localStorage.getItem("access_token");return e?{Authorization:"Bearer ".concat(e)}:{}}()}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){if(e instanceof TypeError&&e.message.includes("fetch"))throw console.error("Network error - check if backend is running on port 8000"),Error("Unable to connect to server. Please check if the backend is running.");throw console.error("Error fetching courses:",e),e}}async function a(e,t){let r=await fetch("".concat(o,"/auth/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error((await r.json()).error||"Login failed");let n=await r.json();return localStorage.setItem("access_token",n.access),localStorage.setItem("refresh_token",n.refresh),n}async function s(e,t){let r=await fetch("".concat(o,"/auth/register/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error((await r.json()).error||"Registration failed");let n=await r.json();return localStorage.setItem("access_token",n.access),localStorage.setItem("refresh_token",n.refresh),n}function i(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}function c(){return!!localStorage.getItem("access_token")}},9690:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var o=r(5155),n=r(2115),a=r(5695),s=r(5731),i=r(6874),c=r.n(i);function l(){let[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),f=(0,a.useRouter)(),g=async t=>{t.preventDefault(),h(!0),d("");try{await (0,s.iD)(e,r),f.push("/courses")}catch(e){d(e instanceof Error?e.message:"Login failed")}finally{h(!1)}};return(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,o.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,o.jsx)("div",{children:(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,o.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[l&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:l}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Email",value:e,onChange:e=>t(e.target.value)})}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Password",value:r,onChange:e=>i(e.target.value)})}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?"Signing in...":"Sign in"})}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)(c(),{href:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Sign up"})})]})]})})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=1551)),_N_E=e.O()}]);